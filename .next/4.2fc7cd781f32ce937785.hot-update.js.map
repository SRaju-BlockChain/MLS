{"version":3,"sources":["webpack:///./pages/reService/listings/listingsSummary.js?bddc"],"names":["ListingsSummary","props","listings","map","listing","index","address","Header","Row","HeaderCell","Body","renderRows","listingsCount","query","console","log","reService","REService","methods","getBasicPropertyInfoCount","call","Promise","all","Array","parseInt","fill","element","propertyListings"],"mappings":"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","file":"4.2fc7cd781f32ce937785.hot-update.js","sourcesContent":["import React, { Component } from \"react\";\nimport { Button, Table } from \"semantic-ui-react\";\nimport { Link } from \"../../../routes\";\nimport Layout from \"../../../components/Layout\";\nimport REService from \"../../../ethereum/reService\";\nimport ListingRow from \"../../../components/ListingRow\";\n\nclass ListingsSummary extends Component {\n  static async getInitialProps(props) {\n    const { address } = props.query;\n    console.log(\"Listings Summary\" + address);\n    const reService = REService(address);\n\n    const listingsCount = await reService.methods\n      .getBasicPropertyInfoCount()\n      .call();\n\n    console.log(\"Media Count -> \" + listingsCount);\n    const listings = await Promise.all(\n      Array(parseInt(listingsCount))\n        .fill()\n        .map((element, index) => {\n          return reService.methods.propertyListings(index).call();\n        })\n    );\n    console.log(listings);\n    return {\n      listings,\n      listingsCount,\n      address\n    };\n  }\n\n  renderRows() {\n    return this.props.listings.map((listing, index) => {\n      return (\n        <ListingRow\n          key={index}\n          id={index}\n          listing={listing}\n          address={this.props.address}\n        />\n      );\n    });\n  }\n\n  render() {\n    const { Header, Row, HeaderCell, Body } = Table;\n    return (\n      <Layout>\n        <h3> Listings </h3>\n        <div>\n          <Table>\n            <Header>\n              <Row>\n                <HeaderCell> Property ID </HeaderCell>\n                <HeaderCell> Property Type </HeaderCell>\n                <HeaderCell> Sale Type </HeaderCell>\n                <HeaderCell> Zip Code </HeaderCell>\n                <HeaderCell> Size </HeaderCell>\n                <HeaderCell> Price </HeaderCell>\n                <HeaderCell> Media </HeaderCell>\n              </Row>\n            </Header>\n            <Body>{this.renderRows()}</Body>\n          </Table>\n          <Link route={`/reService/${this.props.address}/listings/listingNew`}>\n            <a>\n              <Button\n                floated=\"right\"\n                content=\"Create Listing\"\n                icon=\"add circle\"\n                primary\n              />\n            </a>\n          </Link>\n        </div>\n        <div>Found {this.props.listingsCount} Listings. </div>\n        <div>The Contract Address is {this.props.address} </div>\n      </Layout>\n    );\n  }\n}\nexport default ListingsSummary;\n\n\n\n// WEBPACK FOOTER //\n// ./pages/reService/listings/listingsSummary.js"],"sourceRoot":""}