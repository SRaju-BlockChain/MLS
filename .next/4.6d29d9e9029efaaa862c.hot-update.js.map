{"version":3,"sources":["webpack:///./pages/reService/listings/listingsSummary.js?bddc"],"names":["ListingsSummary","props","listings","map","listing","index","address","extra","propertyType","saleType","zipCode","Header","Row","HeaderCell","Body","margin","renderCards","renderRows","listingsCount","query","console","log","reService","REService","methods","getBasicPropertyInfoCount","call","Promise","all","Array","parseInt","fill","element","propertyListings"],"mappings":"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","file":"4.6d29d9e9029efaaa862c.hot-update.js","sourcesContent":["import React, { Component } from \"react\";\nimport { Button, Table, Card } from \"semantic-ui-react\";\nimport { Link } from \"../../../routes\";\nimport Layout from \"../../../components/Layout\";\nimport REService from \"../../../ethereum/reService\";\nimport ListingRow from \"../../../components/ListingRow\";\n\nclass ListingsSummary extends Component {\n  static async getInitialProps(props) {\n    const { address } = props.query;\n    console.log(\"Listings Summary\" + address);\n    const reService = REService(address);\n\n    const listingsCount = await reService.methods\n      .getBasicPropertyInfoCount()\n      .call();\n\n    console.log(\"Media Count -> \" + listingsCount);\n    const listings = await Promise.all(\n      Array(parseInt(listingsCount))\n        .fill()\n        .map((element, index) => {\n          return reService.methods.propertyListings(index).call();\n        })\n    );\n    console.log(listings);\n    return {\n      listings,\n      listingsCount,\n      address\n    };\n  }\n\n  renderRows() {\n    return this.props.listings.map((listing, index) => {\n      return (\n        <ListingRow\n          key={index}\n          id={index}\n          listing={listing}\n          address={this.props.address}\n        />\n      );\n    });\n  }\n\n  renderCards() {\n    return this.props.listings.map((listing, index) => {\n      const extra = (\n        <a>\n          <Icon name=\"user\" />\n          16 Friends\n        </a>\n      );\n\n      return (\n        <Card\n          image=\"https://gateway.ipfs.io/ipfs/QmWDQpBNjrobkHhyCjgDFJXXVMc3NQjFcLkG1hTDKB3ZPq\"\n          header={listing.propertyType}\n          meta={listing.saleType}\n          description={listing.zipCode}\n          extra={extra}\n        />\n      );\n    });\n  }\n\n  render() {\n    const { Header, Row, HeaderCell, Body } = Table;\n    return (\n      <Layout>\n        <div className=\"ui breadcrumb\">\n          <Link route={`/`}>\n            <a className=\"section\">Home</a>\n          </Link>\n          <div className=\"divider\"> / </div>\n          <Link route={`/`}>\n            <a className=\"section\">Contracts</a>\n          </Link>\n          <div className=\"divider\"> / </div>\n          <a className=\"active section\">Listings</a>\n        </div>\n\n        <div style={{ margin: \"0px 0px 20px 0px\" }} />\n\n        <div className=\"ui grid\">\n          <div className=\"ten wide column\">\n            <h1 className=\"ui header\">Listings</h1>\n          </div>\n          <div className=\"six wide column\">\n            <Link\n              route={`/reService/${this.props.address}/listings/listingNew`}\n            >\n              <a>\n                <Button\n                  floated=\"right\"\n                  content=\"Create Listing\"\n                  icon=\"add circle\"\n                  color=\"teal\"\n                />\n              </a>\n            </Link>\n          </div>\n        </div>\n\n        <div style={{ margin: \"0px 0px 20px 0px\" }} />\n\n        <Card.Group>{this.renderCards()}</Card.Group>\n\n        <div style={{ margin: \"0px 0px 20px 0px\" }} />\n\n        <div>\n          <Table>\n            <Header>\n              <Row>\n                <HeaderCell> Property ID </HeaderCell>\n                <HeaderCell> Property Type </HeaderCell>\n                <HeaderCell> Sale Type </HeaderCell>\n                <HeaderCell> Zip Code </HeaderCell>\n                <HeaderCell> Size </HeaderCell>\n                <HeaderCell> Price </HeaderCell>\n                <HeaderCell> Media </HeaderCell>\n              </Row>\n            </Header>\n            <Body>{this.renderRows()}</Body>\n          </Table>\n        </div>\n        <div>Found {this.props.listingsCount} Listings. </div>\n        <div>The Contract Address is {this.props.address} </div>\n      </Layout>\n    );\n  }\n}\nexport default ListingsSummary;\n\n\n\n// WEBPACK FOOTER //\n// ./pages/reService/listings/listingsSummary.js"],"sourceRoot":""}