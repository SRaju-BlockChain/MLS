{"version":3,"sources":["webpack:///./pages/reService/listings/listingsSummary.js?bddc"],"names":["ListingsSummary","props","listings","map","listing","index","address","Header","Row","HeaderCell","Body","margin","renderRows","listingsCount","query","console","log","reService","REService","methods","getBasicPropertyInfoCount","call","Promise","all","Array","parseInt","fill","element","propertyListings"],"mappings":"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","file":"4.698e6390c98430a95a9f.hot-update.js","sourcesContent":["import React, { Component } from \"react\";\nimport { Button, Table } from \"semantic-ui-react\";\nimport { Link } from \"../../../routes\";\nimport Layout from \"../../../components/Layout\";\nimport REService from \"../../../ethereum/reService\";\nimport ListingRow from \"../../../components/ListingRow\";\n\nclass ListingsSummary extends Component {\n  static async getInitialProps(props) {\n    const { address } = props.query;\n    console.log(\"Listings Summary\" + address);\n    const reService = REService(address);\n\n    const listingsCount = await reService.methods\n      .getBasicPropertyInfoCount()\n      .call();\n\n    console.log(\"Media Count -> \" + listingsCount);\n    const listings = await Promise.all(\n      Array(parseInt(listingsCount))\n        .fill()\n        .map((element, index) => {\n          return reService.methods.propertyListings(index).call();\n        })\n    );\n    console.log(listings);\n    return {\n      listings,\n      listingsCount,\n      address\n    };\n  }\n\n  renderRows() {\n    return this.props.listings.map((listing, index) => {\n      return (\n        <ListingRow\n          key={index}\n          id={index}\n          listing={listing}\n          address={this.props.address}\n        />\n      );\n    });\n  }\n\n  render() {\n    const { Header, Row, HeaderCell, Body } = Table;\n    return (\n      <Layout>\n        <div className=\"ui breadcrumb\" style={{ margin: \"0px 0px 20px 0px\" }}>\n          <Link route={`/`}>\n            <a className=\"section\">Home</a>\n          </Link>\n          <div className=\"divider\"> / </div>\n          <Link route={`/`}>\n            <a className=\"section\">Contracts</a>\n          </Link>\n          <div className=\"divider\"> / </div>\n          <a className=\"active section\">Listings</a>\n        </div>\n        <h3> Listings </h3>\n        <div>\n          <Table>\n            <Header>\n              <Row>\n                <HeaderCell> Property ID </HeaderCell>\n                <HeaderCell> Property Type </HeaderCell>\n                <HeaderCell> Sale Type </HeaderCell>\n                <HeaderCell> Zip Code </HeaderCell>\n                <HeaderCell> Size </HeaderCell>\n                <HeaderCell> Price </HeaderCell>\n                <HeaderCell> Media </HeaderCell>\n              </Row>\n            </Header>\n            <Body>{this.renderRows()}</Body>\n          </Table>\n          <Link route={`/reService/${this.props.address}/listings/listingNew`}>\n            <a>\n              <Button\n                floated=\"right\"\n                content=\"Create Listing\"\n                icon=\"add circle\"\n                primary\n              />\n            </a>\n          </Link>\n        </div>\n        <div>Found {this.props.listingsCount} Listings. </div>\n        <div>The Contract Address is {this.props.address} </div>\n      </Layout>\n    );\n  }\n}\nexport default ListingsSummary;\n\n\n\n// WEBPACK FOOTER //\n// ./pages/reService/listings/listingsSummary.js"],"sourceRoot":""}