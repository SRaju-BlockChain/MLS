{"version":3,"sources":["webpack:///./pages/reService/listings/listingsSummary.js?bddc"],"names":["ListingsSummary","props","listings","map","listing","index","address","extra","propertyId","desc","zipCode","size","price","propertyType","saleType","Header","Row","HeaderCell","Body","margin","listingsCount","renderCards","query","console","log","reService","REService","methods","getBasicPropertyInfoCount","call","Promise","all","Array","parseInt","fill","element","propertyListings"],"mappings":"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","file":"4.fce1c3511d1ea4a0f6a1.hot-update.js","sourcesContent":["import React, { Component } from \"react\";\nimport { Button, Table, Card, Icon, Grid, Label } from \"semantic-ui-react\";\nimport { Link } from \"../../../routes\";\nimport Layout from \"../../../components/Layout\";\nimport REService from \"../../../ethereum/reService\";\nimport ListingRow from \"../../../components/ListingRow\";\n\nclass ListingsSummary extends Component {\n  static async getInitialProps(props) {\n    const { address } = props.query;\n    console.log(\"Listings Summary\" + address);\n    const reService = REService(address);\n\n    const listingsCount = await reService.methods\n      .getBasicPropertyInfoCount()\n      .call();\n\n    console.log(\"Media Count -> \" + listingsCount);\n    const listings = await Promise.all(\n      Array(parseInt(listingsCount))\n        .fill()\n        .map((element, index) => {\n          return reService.methods.propertyListings(index).call();\n        })\n    );\n    console.log(listings);\n    return {\n      listings,\n      listingsCount,\n      address\n    };\n  }\n\n  renderRows() {\n    return this.props.listings.map((listing, index) => {\n      return (\n        <ListingRow\n          key={index}\n          id={index}\n          listing={listing}\n          address={this.props.address}\n        />\n      );\n    });\n  }\n\n  renderCards() {\n    return this.props.listings.map((listing, index) => {\n      const extra = (\n        <a>\n          <Icon name=\"user\" />\n          <Link\n            route={`/reService/${this.props.address}/listings/media/${\n              listing.propertyId\n            }/listingImages`}\n          >\n            View Media\n          </Link>\n        </a>\n      );\n\n      const desc = (\n        <div>\n          <Grid>\n            <Grid.Column width={8}>\n              PropertyID: {listing.propertyId}\n            </Grid.Column>\n            <Grid.Column width={8}>Zip: {listing.zipCode}</Grid.Column>\n          </Grid>\n          <Grid>\n            <Grid.Column width={8}>Size: {listing.size}</Grid.Column>\n            <Grid.Column width={8}>Price: {listing.price}</Grid.Column>\n          </Grid>\n        </div>\n      );\n\n      return (\n        <Card\n          image=\"https://gateway.ipfs.io/ipfs/QmWDQpBNjrobkHhyCjgDFJXXVMc3NQjFcLkG1hTDKB3ZPq\"\n          header={listing.propertyType}\n          meta={listing.saleType}\n          description={desc}\n          extra={extra}\n        />\n      );\n    });\n  }\n\n  render() {\n    const { Header, Row, HeaderCell, Body } = Table;\n    return (\n      <Layout>\n        <div className=\"ui breadcrumb\">\n          <Link route={`/`}>\n            <a className=\"section\">Home</a>\n          </Link>\n          <div className=\"divider\"> / </div>\n          <Link route={`/`}>\n            <a className=\"section\">Contracts</a>\n          </Link>\n          <div className=\"divider\"> / </div>\n          <a className=\"active section\">Listings</a>\n        </div>\n        <div style={{ margin: \"0px 0px 20px 0px\" }} />\n        <div className=\"ui grid\">\n          <div className=\"ten wide column\">\n            <h1 className=\"ui header\">\n              Listings <Label>{this.props.listingsCount}</Label>\n            </h1>\n          </div>\n          <div className=\"six wide column\">\n            <Link\n              route={`/reService/${this.props.address}/listings/listingNew`}\n            >\n              <a>\n                <Button\n                  floated=\"right\"\n                  content=\"Create Listing\"\n                  icon=\"add circle\"\n                  color=\"teal\"\n                />\n              </a>\n            </Link>\n          </div>\n        </div>\n        <div style={{ margin: \"0px 0px 20px 0px\" }} />\n        <Card.Group>{this.renderCards()}</Card.Group>\n        // <div>Found {this.props.listingsCount} Listings. </div>\n        // <div>The Contract Address is {this.props.address} </div>\n      </Layout>\n    );\n  }\n}\nexport default ListingsSummary;\n\n\n\n// WEBPACK FOOTER //\n// ./pages/reService/listings/listingsSummary.js"],"sourceRoot":""}